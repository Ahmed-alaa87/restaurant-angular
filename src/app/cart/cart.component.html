<!-- Start: Action Buttons -->
<div class="text-center my-5" *ngIf="!select">
  <button class="btn btn-lg btn-outline-danger px-5 mx-2 rounded-pill" (click)="select = true">
    ü™ë Reserve
  </button>
  <button class="btn btn-lg btn-danger px-5 mx-2 rounded-pill">
    üçî Order
  </button>
</div>

<!-- Start: Main Container -->
<div class="container">
  <div class="row">

    <!-- Left Side: Booking or Contact Form -->
    <div class="col-lg-7 mb-4" *ngIf="!select">
      <div class="bg-white p-4 rounded-4 shadow-sm">
        <h4 class="mb-4 text-danger fw-bold">Contact Information</h4>
        <form [formGroup]="submitfirm" (ngSubmit)="submit(submitfirm)">
        <input class="form-control mb-3 rounded-pill" type="number" formControlName="phone" placeholder="Phone " />
        
        <div class="form-check form-switch mb-4">
          <input class="form-check-input" type="checkbox" id="offers" />
          <label class="form-check-label" for="offers">Send me offers and updates</label>
        </div>

        <h4 class="mb-4 text-danger fw-bold">Delivery Address</h4>
        <div class="row g-3 mb-3">
          <div class="col-md-6">
            <input class="form-control rounded-pill" formControlName="Firstname" placeholder="First name" />
          </div>
          <div class="col-md-6">
            <input class="form-control rounded-pill" formControlName="Lastname" placeholder="Last name" />
          </div>
        </div>

        <input class="form-control mb-3 rounded-pill" placeholder="Address"  formControlName="Address"/>
        <input class="form-control mb-3 rounded-pill" placeholder="Apartment, suite, etc. (optional)" formControlName="Apartment" />

        <div class="row g-3 mb-3">
          <div class="col-md-6">
            <input class="form-control rounded-pill" type="number" placeholder="Postal code" formControlName="Postal" />
          </div>
          <div class="col-md-6">
            <input class="form-control rounded-pill" placeholder="City" formControlName="City" />
          </div>
        </div>

        <div class="form-check mb-4">
          <input class="form-check-input" type="checkbox" id="saveInfo" />
          <label class="form-check-label" for="saveInfo">Save info for future</label>
        </div>
     
        <h4 class="mb-3 text-danger fw-bold">Shipping Method</h4>
        <div class="border p-3 rounded-3 d-flex justify-content-between align-items-center">
          <span>Standard</span>
          <strong class="text-success">FREE</strong>
        </div>
<!-- 
         <h4 class="mt-4 mb-3 text-danger fw-bold">Payment</h4>
        <div class="alert alert-warning text-center">
          Payments are currently unavailable.
        </div> -->

        <button type="submit" [disabled]="submitfirm.invalid" class="btn btn-danger w-100 rounded-pill mt-3">Order Now</button>
      </form>
      </div>
    </div>
  
    <!-- If Booking Selected -->
    <section *ngIf="select" class="col-lg-7 mb-4 mt-5">
      <div class="row g-4">

        <!-- Display Card -->
        <div class="col-md-6">
          <div class="bg-white border rounded-4 shadow p-4 h-100">
            <h5 class="text-danger fw-bold">  <i class="bi bi-person-fill me-2"></i>:{{ forms.name }}</h5>
            <p class="mb-1">  <i class="bi bi-clock-fill me-2 text-secondary"></i> : {{ forms.email }}</p>
            <p class="text-muted"><i class="bi bi-chat-left-dots me-2 text-secondary"></i> : {{ forms.massage }}</p>
          </div>
        </div>

        <!-- Reservation Form -->
        <div class="col-md-6">
          <div [formGroup]="form" class="bg-light p-4 rounded-4 shadow" (ngSubmit)="form">
            <h4 class="text-center mb-4 text-danger fw-bold">Reserve Table</h4>

            <input class="form-control mb-3 rounded-pill" type="text" formControlName="name" placeholder="Your Name" />
            <input class="form-control mb-3 rounded-pill" type="number" formControlName="email" placeholder="Hour (e.g. 2 PM)" />
            <textarea class="form-control mb-3 rounded-3" rows="4" formControlName="massage" placeholder="Message"></textarea>

            <button class="btn btn-danger w-100 rounded-pill fw-bold" (click)="data(form)" [disabled]="form.invalid">Send</button>
          </div>
        </div>

        <!-- Back Button -->
        <div class="text-center">
          <button class="btn btn-outline-secondary px-5 rounded-pill mt-3" (click)="select = false">‚Üê Back to Order</button>
        </div>
      </div>
    </section>

    <!-- Right Side: Order Summary -->
    <div class="col-lg-5">
      <div class="bg-white p-4 rounded-4 shadow-sm">
        <h4 class="text-danger mb-4">üõí Your Order</h4>

        <div class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-muted">Items: {{ gatdata.length }}</span>
          <button class="btn btn-sm btn-outline-danger rounded-pill" (click)="deletall()">Delete All</button>
        </div>

        <div *ngFor="let product of gatdata; let index = index" class="d-flex align-items-center bg-light p-3 mb-3 rounded-3 shadow-sm">
          <img [src]="product.imageUrl" class="rounded border me-3" width="60" height="60" alt="Item" />
          <div class="flex-grow-1">
            <strong class="text-dark">{{ product.itemName }}</strong><br>
            <small class="text-muted">Qty: {{ product.quantity || 1 }}</small>
          </div>
          <span class="text-danger fw-bold me-3">${{  product.itemPrice *  product.quantity }}</span>
          <button class="btn btn-sm btn-outline-danger rounded-circle" (click)="delet(index)">
            <i class="bi bi-trash"></i>
          </button>
        </div>

        <hr>
        <div class="d-flex justify-content-between mb-2">
          <span>Subtotal</span>
          <strong>${{ total }}</strong>
        </div>
        <div class="d-flex justify-content-between mb-2">
          <span>Shipping</span>
          <strong class="text-success">FREE</strong>
        </div>
        <div class="d-flex justify-content-between mt-3">
          <h5>Total</h5>
          <h5>${{ total }}</h5>
        </div>
      </div>
    </div>

  </div>
</div>
